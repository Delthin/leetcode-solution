/**
ç»™ä½ ä¸€ä¸ª m x n çš„ç½‘æ ¼ã€‚ä¸€ä¸ªæœºå™¨äººä»ç½‘æ ¼çš„å·¦ä¸Šè§’ (0, 0) å‡ºå‘ï¼Œç›®æ ‡æ˜¯åˆ°è¾¾ç½‘æ ¼çš„å³ä¸‹è§’ (m - 1, n - 1)ã€‚åœ¨ä»»æ„æ—¶åˆ»ï¼Œæœºå™¨äººåªèƒ½å‘å³æˆ–å‘
ä¸‹ç§»åŠ¨ã€‚ 

 ç½‘æ ¼ä¸­çš„æ¯ä¸ªå•å…ƒæ ¼åŒ…å«ä¸€ä¸ªå€¼ coins[i][j]ï¼š 

 
 å¦‚æœ coins[i][j] >= 0ï¼Œæœºå™¨äººå¯ä»¥è·å¾—è¯¥å•å…ƒæ ¼çš„é‡‘å¸ã€‚ 
 å¦‚æœ coins[i][j] < 0ï¼Œæœºå™¨äººä¼šé‡åˆ°ä¸€ä¸ªå¼ºç›—ï¼Œå¼ºç›—ä¼šæŠ¢èµ°è¯¥å•å…ƒæ ¼æ•°å€¼çš„ ç»å¯¹å€¼ çš„é‡‘å¸ã€‚ 
 

 æœºå™¨äººæœ‰ä¸€é¡¹ç‰¹æ®Šèƒ½åŠ›ï¼Œå¯ä»¥åœ¨è¡Œç¨‹ä¸­ æœ€å¤šæ„ŸåŒ– 2ä¸ªå•å…ƒæ ¼çš„å¼ºç›—ï¼Œä»è€Œé˜²æ­¢è¿™äº›å•å…ƒæ ¼çš„é‡‘å¸è¢«æŠ¢èµ°ã€‚ 

 æ³¨æ„ï¼šæœºå™¨äººçš„æ€»é‡‘å¸æ•°å¯ä»¥æ˜¯è´Ÿæ•°ã€‚ 

 è¿”å›æœºå™¨äººåœ¨è·¯å¾„ä¸Šå¯ä»¥è·å¾—çš„ æœ€å¤§é‡‘å¸æ•° ã€‚ 

 

 ç¤ºä¾‹ 1ï¼š 

 
 è¾“å…¥ï¼š coins = [[0,1,-1],[1,-2,3],[2,-3,4]] 
 

 è¾“å‡ºï¼š 8 

 è§£é‡Šï¼š 

 ä¸€ä¸ªè·å¾—æœ€å¤šé‡‘å¸çš„æœ€ä¼˜è·¯å¾„å¦‚ä¸‹ï¼š 

 
 ä» (0, 0) å‡ºå‘ï¼Œåˆå§‹é‡‘å¸ä¸º 0ï¼ˆæ€»é‡‘å¸ = 0ï¼‰ã€‚ 
 ç§»åŠ¨åˆ° (0, 1)ï¼Œè·å¾— 1 æšé‡‘å¸ï¼ˆæ€»é‡‘å¸ = 0 + 1 = 1ï¼‰ã€‚ 
 ç§»åŠ¨åˆ° (1, 1)ï¼Œé‡åˆ°å¼ºç›—æŠ¢èµ° 2 æšé‡‘å¸ã€‚æœºå™¨äººåœ¨æ­¤å¤„ä½¿ç”¨ä¸€æ¬¡æ„ŸåŒ–èƒ½åŠ›ï¼Œé¿å…è¢«æŠ¢ï¼ˆæ€»é‡‘å¸ = 1ï¼‰ã€‚ 
 ç§»åŠ¨åˆ° (1, 2)ï¼Œè·å¾— 3 æšé‡‘å¸ï¼ˆæ€»é‡‘å¸ = 1 + 3 = 4ï¼‰ã€‚ 
 ç§»åŠ¨åˆ° (2, 2)ï¼Œè·å¾— 4 æšé‡‘å¸ï¼ˆæ€»é‡‘å¸ = 4 + 4 = 8ï¼‰ã€‚ 
 

 ç¤ºä¾‹ 2ï¼š 

 
 è¾“å…¥ï¼š coins = [[10,10,10],[10,10,10]] 
 

 è¾“å‡ºï¼š 40 

 è§£é‡Šï¼š 

 ä¸€ä¸ªè·å¾—æœ€å¤šé‡‘å¸çš„æœ€ä¼˜è·¯å¾„å¦‚ä¸‹ï¼š 

 
 ä» (0, 0) å‡ºå‘ï¼Œåˆå§‹é‡‘å¸ä¸º 10ï¼ˆæ€»é‡‘å¸ = 10ï¼‰ã€‚ 
 ç§»åŠ¨åˆ° (0, 1)ï¼Œè·å¾— 10 æšé‡‘å¸ï¼ˆæ€»é‡‘å¸ = 10 + 10 = 20ï¼‰ã€‚ 
 ç§»åŠ¨åˆ° (0, 2)ï¼Œå†è·å¾— 10 æšé‡‘å¸ï¼ˆæ€»é‡‘å¸ = 20 + 10 = 30ï¼‰ã€‚ 
 ç§»åŠ¨åˆ° (1, 2)ï¼Œè·å¾— 10 æšé‡‘å¸ï¼ˆæ€»é‡‘å¸ = 30 + 10 = 40ï¼‰ã€‚ 
 

 

 æç¤ºï¼š 

 
 m == coins.length 
 n == coins[i].length 
 1 <= m, n <= 500 
 -1000 <= coins[i][j] <= 1000 
 

 Related Topics æ•°ç»„ åŠ¨æ€è§„åˆ’ çŸ©é˜µ ğŸ‘ 11 ğŸ‘ 0

*/
#include <bits/stdc++.h>

using namespace std;
  
namespace solution3418{
//leetcode submit region begin(Prohibit modification and deletion)
class Solution {
public:
    int maximumAmount(vector<vector<int>>& coins) {
        int m = coins.size(), n = coins[0].size();
        // vector<vector<vector<int>>> dp(m + 1, vector<vector<int>>(n + 1, vector<int>(3, -1001000)));
        vector f(n + 1, array<int, 3>{INT_MIN / 2, INT_MIN / 2, INT_MIN / 2});
        f[1] = {0, 0, 0};
        for (auto& row : coins) {
            for (int j = 0; j < n; j++) {
                int x = row[j];
                f[j + 1][2] = max({f[j][2] + x, f[j + 1][2] + x, f[j][1], f[j + 1][1]});
                f[j + 1][1] = max({f[j][1] + x, f[j + 1][1] + x, f[j][0], f[j + 1][0]});
                f[j + 1][0] = max(f[j][0], f[j + 1][0]) + x;
            }
        }
        return f[n][2];
    }
};
//leetcode submit region end(Prohibit modification and deletion)

}

using namespace solution3418;
int main() {
    Solution solution;

    return 0;
}